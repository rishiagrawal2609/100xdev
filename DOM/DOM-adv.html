<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>DOM-ADV</title>
</head>
<body>
  <h1> To-DO list</h1>
<div id="todo">
</div>
<div>
  <input id="userInput">
  <button onclick="addTodo()">Add</button>
</div>

  <p>The complex way to add todo</p>
  <div id="ComplexToDo">

  </div>
  <div>
      <input id="userInputComplex">
      <button onclick="complexAddToDo()">Add</button>
  </div>
<script>

  let count = 0;;
  let countComplex=0

  function deleteTodo(index){
    const eleToDelete = document.getElementById('todo'+index)
    console.log(eleToDelete, index)
    document.getElementById("todo").removeChild(eleToDelete)
    if(count<=0){
      count = 0
    }else{
      count--;
    }
  }

  function addTodo(){
    const usrInput = document.querySelector("#userInput").value
    const newDiv = document.createElement("div")
    newDiv.setAttribute('id',`todo${count}`)
    newDiv.innerHTML = `<h4>${count+1}. ${usrInput}</h4>`+ `<button onclick=deleteTodo(${count})>Delete</button>`
    document.getElementById("todo").appendChild(newDiv)
    count++
  }

  function deleteTodoComplex(index){
      const eleToDelete = document.getElementById('todoComplex'+index)
      console.log(eleToDelete, index)
      document.getElementById("ComplexToDo").removeChild(eleToDelete)
      if(countComplex<=0){
          countComplex = 0
      }else{
          countComplex--;
      }
  }

  // This is a way we can move away from the static HTML to creating the DOM elements
  function complexAddToDo(){
      const usrInput = document.querySelector("#userInputComplex").value
      const span = document.createElement("span")
      span.innerHTML = usrInput
      const button = document.createElement("button")
      button.innerHTML = 'Delete'
      button.setAttribute('onclick',`deleteTodoComplex(${countComplex})`)
      const div = document.createElement("div")
      div.setAttribute('id',`todoComplex${countComplex}`)
      div.appendChild(span)
      div.appendChild(button)
      document.getElementById("ComplexToDo").appendChild(div)
      countComplex++
  }


</script>
</body>
</html>